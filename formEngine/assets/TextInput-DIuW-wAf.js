import{bg as Y,ai as Q,am as T,ak as Z,ad as z,aI as N,ah as _,aa as L,ag as F,bi as O,n as H,a2 as ee,a6 as ae,J as te,a3 as le,aJ as ne,b,V as w,bd as ie,H as R,a7 as oe,W as se,o as i,c as h,a as A,u as a,T as f,av as ce,d as p,e as r,ax as S,ar as I,g as v,t as U,f as c,aR as re,R as $,Y as ue,U as de,I as me,O as pe,aX as q,b9 as ve,az as fe,j as be,F as he,m as ye,E as Ve,h as ge,bj as ke,bk as Ie}from"./index-B1ZJjOGT.js";const Se=n=>["",...Y].includes(n),we=Q({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Se},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:T},activeActionIcon:{type:T},activeIcon:{type:T},inactiveIcon:{type:T},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Z(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0}}),Ee={[z]:n=>N(n)||_(n)||L(n),[F]:n=>N(n)||_(n)||L(n),[O]:n=>N(n)||_(n)||L(n)},Ce=["onClick"],Te=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],Ne=["aria-hidden"],De=["aria-hidden"],Pe=["aria-hidden"],J="ElSwitch",Be=H({name:J}),_e=H({...Be,props:we,emits:Ee,setup(n,{expose:D,emit:o}){const l=n,{formItem:g}=ee(),y=ae(),t=te("switch"),{inputId:k}=le(l,{formItemContext:g}),d=ne(b(()=>l.loading)),E=w(l.modelValue!==!1),V=w(),P=w(),B=b(()=>[t.b(),t.m(y.value),t.is("disabled",d.value),t.is("checked",s.value)]),u=b(()=>[t.e("label"),t.em("label","left"),t.is("active",!s.value)]),W=b(()=>[t.e("label"),t.em("label","right"),t.is("active",s.value)]),x=b(()=>({width:ie(l.width)}));R(()=>l.modelValue,()=>{E.value=!0});const K=b(()=>E.value?l.modelValue:!1),s=b(()=>K.value===l.activeValue);[l.activeValue,l.inactiveValue].includes(K.value)||(o(z,l.inactiveValue),o(F,l.inactiveValue),o(O,l.inactiveValue)),R(s,e=>{var m;V.value.checked=e,l.validateEvent&&((m=g==null?void 0:g.validate)==null||m.call(g,"change").catch(X=>oe()))});const C=()=>{const e=s.value?l.inactiveValue:l.activeValue;o(z,e),o(F,e),o(O,e),pe(()=>{V.value.checked=s.value})},M=()=>{if(d.value)return;const{beforeChange:e}=l;if(!e){C();return}const m=e();[q(m),N(m)].includes(!0)||ve(J,"beforeChange must return type `Promise<boolean>` or `boolean`"),q(m)?m.then(j=>{j&&C()}).catch(j=>{}):m&&C()},G=()=>{var e,m;(m=(e=V.value)==null?void 0:e.focus)==null||m.call(e)};return se(()=>{V.value.checked=s.value}),D({focus:G,checked:s}),(e,m)=>(i(),h("div",{class:f(a(B)),onClick:de(M,["prevent"])},[A("input",{id:a(k),ref_key:"input",ref:V,class:f(a(t).e("input")),type:"checkbox",role:"switch","aria-checked":a(s),"aria-disabled":a(d),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(d),tabindex:e.tabindex,onChange:C,onKeydown:ce(M,["enter"])},null,42,Te),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(i(),h("span",{key:0,class:f(a(u))},[e.inactiveIcon?(i(),p(a(I),{key:0},{default:r(()=>[(i(),p(S(e.inactiveIcon)))]),_:1})):v("v-if",!0),!e.inactiveIcon&&e.inactiveText?(i(),h("span",{key:1,"aria-hidden":a(s)},U(e.inactiveText),9,Ne)):v("v-if",!0)],2)):v("v-if",!0),A("span",{ref_key:"core",ref:P,class:f(a(t).e("core")),style:ue(a(x))},[e.inlinePrompt?(i(),h("div",{key:0,class:f(a(t).e("inner"))},[e.activeIcon||e.inactiveIcon?(i(),p(a(I),{key:0,class:f(a(t).is("icon"))},{default:r(()=>[(i(),p(S(a(s)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(i(),h("span",{key:1,class:f(a(t).is("text")),"aria-hidden":!a(s)},U(a(s)?e.activeText:e.inactiveText),11,De)):v("v-if",!0)],2)):v("v-if",!0),A("div",{class:f(a(t).e("action"))},[e.loading?(i(),p(a(I),{key:0,class:f(a(t).is("loading"))},{default:r(()=>[c(a(re))]),_:1},8,["class"])):a(s)?$(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(i(),p(a(I),{key:0},{default:r(()=>[(i(),p(S(e.activeActionIcon)))]),_:1})):v("v-if",!0)]):a(s)?v("v-if",!0):$(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(i(),p(a(I),{key:0},{default:r(()=>[(i(),p(S(e.inactiveActionIcon)))]),_:1})):v("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(i(),h("span",{key:1,class:f(a(W))},[e.activeIcon?(i(),p(a(I),{key:0},{default:r(()=>[(i(),p(S(e.activeIcon)))]),_:1})):v("v-if",!0),!e.activeIcon&&e.activeText?(i(),h("span",{key:1,"aria-hidden":!a(s)},U(e.activeText),9,Pe)):v("v-if",!0)],2)):v("v-if",!0)],10,Ce))}});var Le=me(_e,[["__file","switch.vue"]]);const Ae=fe(Le),ze={__name:"TextInput",props:{data:Object,modelValue:[String,Number,Array],index:Number},emits:["update:modelValue"],setup(n,{emit:D}){const o=be();w(100),w(!0);const l=n;console.log(l);const g=D;return b({get:()=>l.modelValue,set:y=>g("update:modelValue",y)}),(y,t)=>{const k=ye,d=Ve,E=ge,V=Ae,P=ke,B=Ie;return i(),h(he,null,[c(d,{label:"标题",prop:n.data.label},{default:r(()=>[c(k,{modelValue:a(o).createData.comList[l.index].label,"onUpdate:modelValue":t[0]||(t[0]=u=>a(o).createData.comList[l.index].label=u),clearable:""},null,8,["modelValue"])]),_:1},8,["prop"]),c(d,{label:"备注",prop:n.data.remark},{default:r(()=>[c(k,{modelValue:a(o).createData.comList[l.index].remark,"onUpdate:modelValue":t[1]||(t[1]=u=>a(o).createData.comList[l.index].remark=u),clearable:""},null,8,["modelValue"])]),_:1},8,["prop"]),c(d,{label:"占位符文",prop:n.data.placeholder},{default:r(()=>[c(k,{modelValue:a(o).createData.comList[l.index].placeholder,"onUpdate:modelValue":t[2]||(t[2]=u=>a(o).createData.comList[l.index].placeholder=u),clearable:""},null,8,["modelValue"])]),_:1},8,["prop"]),c(d,{label:"字数限制",prop:n.data.key},{default:r(()=>[c(E,{modelValue:a(o).createData.comList[l.index].length,"onUpdate:modelValue":t[3]||(t[3]=u=>a(o).createData.comList[l.index].length=u),min:1,max:100,onChange:y.handleChange},null,8,["modelValue","onChange"])]),_:1},8,["prop"]),c(d,null,{default:r(()=>[c(B,{class:"w-[100%]"},{default:r(()=>[c(P,{title:"校验规则",name:"1"},{default:r(()=>[c(d,{label:"是否必填",prop:n.data.key},{default:r(()=>[c(V,{modelValue:a(o).createData.comList[l.index].required,"onUpdate:modelValue":t[4]||(t[4]=u=>a(o).createData.comList[l.index].required=u),"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1},8,["prop"]),c(d,{label:"错误提示"},{default:r(()=>[c(k,{modelValue:y.rules,"onUpdate:modelValue":t[5]||(t[5]=u=>y.rules=u),clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{ze as default};
